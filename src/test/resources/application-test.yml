micronaut:
  server:
    port: 18086
    cors:
      enabled: true
      configurations:
        web:
          allowedOrigins:
          - http://localhost:3000
          - http://foo.com
          - ^http(|s)://www\.google\.com$
          allowedMethods:
          - GET
          - POST
          - OPTIONS

  router:
    static-resources:
      public:
        enabled: true
        paths: classpath:public
        mapping: /**
  application:
    name: smokefree-initiative-service
  context:
    path: /api
  security:
    enabled: true
    endpoints:
      login:
        enabled: true
      oauth:
        enabled: true
    token:
      jwt:
        enabled: true
        bearer:
          enabled: true
          header-name: "Authorization"
          prefix: "Bearer"
        signatures:
          secret:
            generator:
              secret: "${JWT_GENERATOR_SIGNATURE_SECRET:pleaseChangeThisSecretForANewOne}"

jpa:
  default:
    packages-to-scan:
    - io.localmotion.chatbox
    - io.localmotion.picture
    - smokefree
    - io.localmotion.personaldata
    - io.localmotion.configuration
    properties:
      hibernate:
        hbm2ddl:
          auto: update
        show_sql: true

---
# https://docs.micronaut.io/latest/guide/index.html#jsonBinding
jackson:
  serializationInclusion: ALWAYS
  serialization:
    indentOutput: true
    writeDatesAsTimestamps: false
  deserialization:
    useBigIntegerForInts: true
    failOnUnknownProperties: false

# AWS secret Manager holds RDS details securely, that's because we do not need below database details here anymore
aws:
  cognito:
    # These settings are valid for running the application locally, override with env variables on server environments
    region: eu-west-1

# LocalMotion2 pool
    userpoolid: eu-west-1_1nKYURwwe
    userpoolwebclientid: 66b4h2jtrk309tlf2hlq5khkk2
    domain: localmotion-dev2.auth.eu-west-1.amazoncognito.com

# Smokefree-dev pool
#    userpoolid: eu-west-1_WsTxYUHyC
#    userpoolwebclientid: 3nkh1qomocr39s893jf0dp44cd
#    domain: smokefree-dev.auth.eu-west-1.amazoncognito.com

  rds:
    enableSsl: false
    jdbcdriverclass: com.mysql.jdbc.Driver

google:
  maps:
    key: use_your_personal_key_for_localhost


localmotion:
  # These settings are valid for running the application locally, override with env variables on server environments
  logicalenvironment: Local

login:
  username: test
  password: password
